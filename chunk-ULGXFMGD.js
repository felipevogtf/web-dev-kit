import{a as x}from"./chunk-ALIVOCAI.js";import{b as D}from"./chunk-YMUTITPD.js";import{$ as v,A as g,Eb as O,Fb as R,Hb as j,Ta as c,V as p,Wa as C,X as _,Xa as b,Y as M,Za as y,Zb as E,aa as h,da as l,dc as q,ea as w,lb as N,t as m,wb as I}from"./chunk-RXD3M7OQ.js";var A=["editorContainer"];var u=new v("NGX_MONACO_EDITOR_CONFIG"),z=!1,T,P=(()=>{let i=class i{set insideNg(e){this._insideNg=e,this._editor&&(this._editor.dispose(),this.initMonaco(this._options,this.insideNg))}get insideNg(){return this._insideNg}constructor(e){this.config=e,this.onInit=new C,this._insideNg=!1}ngAfterViewInit(){z?T.then(()=>{this.initMonaco(this._options,this.insideNg)}):(z=!0,T=new Promise(e=>{let t=this.config.baseUrl||"./assets";if(typeof window.monaco=="object"){this.initMonaco(this._options,this.insideNg),e();return}let o=s=>{let a=s||window.require,f={paths:{vs:`${t}/monaco/min/vs`}};Object.assign(f,this.config.requireConfig||{}),a.config(f),a(["vs/editor/editor.main"],()=>{typeof this.config.onMonacoLoad=="function"&&this.config.onMonacoLoad(),this.initMonaco(this._options,this.insideNg),e()})};if(this.config.monacoRequire)o(this.config.monacoRequire);else if(window.require)if(window.require.config)o();else{var r=`${t}/monaco/min/vs/loader.js`,d=new XMLHttpRequest;d.addEventListener("load",()=>{let s=document.createElement("script");s.type="text/javascript",s.text=["var nodeRequire = require;",d.responseText.replace('"use strict";',""),"var monacoAmdRequire = require;","require = nodeRequire;","require.nodeRequire = require;"].join(`
`),document.body.appendChild(s),o(window.monacoAmdRequire)}),d.open("GET",r),d.send()}else{let s=document.createElement("script");s.type="text/javascript",s.src=`${t}/monaco/min/vs/loader.js`,s.addEventListener("load",()=>{o()}),document.body.appendChild(s)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}};i.\u0275fac=function(t){return new(t||i)(c(u))},i.\u0275cmp=l({type:i,selectors:[["ng-component"]],viewQuery:function(t,o){if(t&1&&R(A,7),t&2){let r;O(r=j())&&(o._editorContainer=r.first)}},inputs:{insideNg:"insideNg"},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(t,o){},encapsulation:2});let n=i;return n})(),H=(()=>{let i=class i extends P{set options(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e,this.insideNg))}get options(){return this._options}set model(e){this.options.model=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}constructor(e,t){super(t),this.zone=e,this.editorConfig=t,this._value="",this.propagateChange=o=>{},this.onTouched=()=>{}}writeValue(e){this._value=e||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouched=e}initMonaco(e,t){let o=!!e.model;if(o){let r=monaco.editor.getModel(e.model.uri||"");r?(e.model=r,e.model.setValue(this._value)):e.model=monaco.editor.createModel(e.model.value,e.model.language,e.model.uri)}t?this._editor=monaco.editor.create(this._editorContainer.nativeElement,e):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.create(this._editorContainer.nativeElement,e)}),o||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(r=>{let d=this._editor.getValue();this.zone.run(()=>{this.propagateChange(d),this._value=d})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=g(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}};i.\u0275fac=function(t){return new(t||i)(c(b),c(u))},i.\u0275cmp=l({type:i,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[I([{provide:x,useExisting:p(()=>i),multi:!0}]),y],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(t,o){t&1&&N(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}"]});let n=i;return n})();var Z=(()=>{let i=class i{static forRoot(e={}){return{ngModule:i,providers:[{provide:u,useValue:e}]}}};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=w({type:i}),i.\u0275inj=M({imports:[q]});let n=i;return n})();var ee=(()=>{let i=class i{constructor(e,t){this.location=e,this.route=t}setQueryParam(e,t){let o=encodeURIComponent(t),r=btoa(o),d=this.location.path(),s=new URLSearchParams(this.location.path().split("?")[1]);s.has(e)?s.set(e,r):s.append(e,r);let a=`${d.split("?")[0]}?${s.toString()}`;this.location.go(a)}getQueryParams(e){return this.route.queryParams.pipe(m(t=>{let o=t[e];if(o){let r=atob(o);return decodeURIComponent(r)}else return""}))}};i.\u0275fac=function(t){return new(t||i)(h(E),h(D))},i.\u0275prov=_({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();export{H as a,Z as b,ee as c};
